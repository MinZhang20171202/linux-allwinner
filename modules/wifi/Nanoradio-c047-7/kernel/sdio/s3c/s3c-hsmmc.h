/*
 *  linux/drivers/mmc/s3c-hsmmc.h - Samsung S3C SDI Interface driver
 *
 * $Id: s3c-hsmmc.h 13506 2009-11-30 16:35:28Z phth $
 *
 *  Copyright (C) 2004 Thomas Kleffel, All Rights Reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#ifdef SLOT_ZERO
#define S3C_PA_HSMMC S3C_PA_HSMMC0
#else
#define S3C_PA_HSMMC S3C_PA_HSMMC1
#endif

#ifndef MHZ
#define MHZ (1000*1000)
#endif

#define S3C_HSMMC_CLOCK_ON	1
#define S3C_HSMMC_CLOCK_OFF	0

#define	SPEED_NORMAL	0
#define	SPEED_HIGH	1



#define HM_SYSAD		(0x00)
#define HM_BLKSIZE		(0x04)
#define HM_BLKCNT		(0x06)
#define HM_ARGUMENT		(0x08)
#define HM_TRNMOD		(0x0c)
#define HM_CMDREG		(0x0e)
#define HM_RSPREG0		(0x10)
#define HM_RSPREG1		(0x14)
#define HM_RSPREG2		(0x18)
#define HM_RSPREG3		(0x1c)
#define HM_BDATA		(0x20)
#define HM_PRNSTS		(0x24)
#define HM_HOSTCTL		(0x28)
#define HM_PWRCON		(0x29)
#define HM_BLKGAP		(0x2a)
#define HM_WAKCON		(0x2b)
#define HM_CLKCON		(0x2c)
#define HM_TIMEOUTCON	(0x2e)
#define HM_SWRST		(0x2f)
#define HM_NORINTSTS	(0x30)
#define HM_ERRINTSTS	(0x32)
#define HM_NORINTSTSEN	(0x34)
#define HM_ERRINTSTSEN	(0x36)
#define HM_NORINTSIGEN	(0x38)
#define HM_ERRINTSIGEN	(0x3a)
#define HM_ACMD12ERRSTS	(0x3c)
#define HM_CAPAREG		(0x40)
#define HM_MAXCURR		(0x48)
#define HM_CONTROL2		(0x80)
#define HM_CONTROL3		(0x84)
#define HM_HCVER		(0xfe)

/*
 * Controller registers
 */

//S3C_HSMMC_BLOCK_SIZE 0x04
#define S3C_HSMMC_MAKE_BLKSZ(dma, blksz) (((dma & 0x7) << 12) | (blksz & 0xFFF))

//S3C_HSMMC_TRANSFER_MODE 0x0C
#define S3C_HSMMC_TRNS_DMA			0x0001
#define S3C_HSMMC_TRNS_BLK_CNT_EN	0x0002
#define S3C_HSMMC_TRNS_ACMD12		0x0004
#define S3C_HSMMC_TRNS_READ			0x0010
#define S3C_HSMMC_TRNS_MULTI		0x0020
#define S3C_HSMMC_TRNS_CCS_NONE		0x0000
#define S3C_HSMMC_TRNS_CCS_DATA		0x1000
#define S3C_HSMMC_TRNS_CCS_NODATA	0x2000
#define S3C_HSMMC_TRNS_CCS_ABORT	0x3000

//S3C_HSMMC_COMMAND 0x0E
#define S3C_HSMMC_CMD_RESP_MASK		0x0003
#define S3C_HSMMC_CMD_RESP_NONE		0x0000
#define S3C_HSMMC_CMD_RESP_LONG		0x0001
#define S3C_HSMMC_CMD_RESP_SHORT	0x0002
#define S3C_HSMMC_CMD_RESP_SHORT_BUSY	0x0003
#define S3C_HSMMC_CMD_CRC_CHECK		0x0008
#define S3C_HSMMC_CMD_INDEX_CHECK	0x0010
#define S3C_HSMMC_CMD_DATA_EXISTS	0x0020
#define S3C_HSMMC_MAKE_CMD(c, f) 	((((c) & 0xff) << 8) | (f & 0xff))

//S3C_HSMMC_PRESENT_STATE 0x24
#define S3C_HSMMC_CMD_INHIBIT		0x00000001
#define S3C_HSMMC_DATA_INHIBIT		0x00000002
#define S3C_HSMMC_DOING_WRITE		0x00000100
#define S3C_HSMMC_DOING_READ		0x00000200
#define S3C_HSMMC_SPACE_AVAILABLE	0x00000400
#define S3C_HSMMC_DATA_AVAILABLE	0x00000800
#define S3C_HSMMC_CARD_PRESENT		0x00010000
#define S3C_HSMMC_WRITE_PROTECT		0x00080000

//S3C_HSMMC_HOST_CONTROL 0x28
#define S3C_HSMMC_CTRL_LED			0x01
#define S3C_HSMMC_CTRL_4BIT			0x02
#define S3C_HSMMC_CTRL_HIGHSPEED	0x04
#define S3C_HSMMC_CTRL_8BIT			0x20

//S3C_HSMMC_POWER_CONTROL 0x29
#define S3C_HSMMC_POWER_OFF		0x00
#define S3C_HSMMC_POWER_ON		0x01
#define S3C_HSMMC_POWER_180		0x0A
#define S3C_HSMMC_POWER_300		0x0C
#define S3C_HSMMC_POWER_330		0x0E
#define S3C_HSMMC_POWER_ON_ALL		0xFF

//S3C_HSMMC_CLOCK_CONTROL 0x2C
#define S3C_HSMMC_CLOCK_DIV256		0x8000
#define S3C_HSMMC_CLOCK_DIV128		0x4000
#define S3C_HSMMC_CLOCK_DIV64		0x2000
#define S3C_HSMMC_CLOCK_DIV32		0x1000
#define S3C_HSMMC_CLOCK_DIV16		0x0800
#define S3C_HSMMC_CLOCK_DIV8		0x0400
#define S3C_HSMMC_CLOCK_DIV4		0x0200
#define S3C_HSMMC_CLOCK_DIV2		0x0100
#define S3C_HSMMC_CLOCK_EXT_STABLE	0x0008
#define S3C_HSMMC_CLOCK_CARD_EN		0x0004
#define S3C_HSMMC_CLOCK_INT_STABLE	0x0002
#define S3C_HSMMC_CLOCK_INT_EN		0x0001

//S3C_HSMMC_TIMEOUT_CONTROL	0x2E
#define S3C_HSMMC_TIMEOUT_MAX		0x0E

//S3C_HSMMC_SOFTWARE_RESET 0x2F
#define S3C_HSMMC_RESET_ALL		0x01
#define S3C_HSMMC_RESET_CMD		0x02
#define S3C_HSMMC_RESET_DATA	0x04

//S3C_HSMMC_NIS_STATUS 0x30
//S3C_HSMMC_NIS_ENABLE 0x34
//S3C_HSMMC_NIS_SIGNAL 0x38
#define S3C_HSMMC_NIS_CMDCMP		0x0001
#define S3C_HSMMC_NIS_TRSCMP		0x0002
#define S3C_HSMMC_NIS_BLKGAP		0x0004
#define S3C_HSMMC_NIS_DMA			0x0008
#define S3C_HSMMC_NIS_WRRDY			0x0010
#define S3C_HSMMC_NIS_RDRDY			0x0020
#define S3C_HSMMC_NIS_CRDINS		0x0040
#define S3C_HSMMC_NIS_CRDRMD		0x0080
#define S3C_HSMMC_NIS_CRDINT		0x0100
#define S3C_HSMMC_NIS_CCS			0x0200
#define S3C_HSMMC_NIS_RDWAIT		0x0400
#define S3C_HSMMC_NIS_FIFOP0		0x0800
#define S3C_HSMMC_NIS_FIFOP1		0x1000
#define S3C_HSMMC_NIS_FIFOP2		0x2000
#define S3C_HSMMC_NIS_FIFOP3		0x4000
#define S3C_HSMMC_NIS_ERR			0x8000

//S3C_HSMMC_EIS_STATUS	0x32
//S3C_HSMMC_EIS_ENABLE 0x36
//S3C_HSMMC_EIS_SIGNAL 0x3A
#define S3C_HSMMC_EIS_CMDTIMEOUT	0x0001
#define S3C_HSMMC_EIS_CMDERR		0x000E
#define S3C_HSMMC_EIS_DATATIMEOUT	0x0010
#define S3C_HSMMC_EIS_DATAERR		0x0060
#define S3C_HSMMC_EIS_CMD12ERR		0x0100

//S3C_HSMMC_CAPABILITIES	0x40
#define S3C_HSMMC_TIMEOUT_CLK_MASK	0x0000003F
#define S3C_HSMMC_TIMEOUT_CLK_SHIFT	0
#define S3C_HSMMC_TIMEOUT_CLK_UNIT	0x00000080
#define S3C_HSMMC_CLOCK_BASE_MASK	0x00003F00
#define S3C_HSMMC_CLOCK_BASE_SHIFT	8
#define S3C_HSMMC_MAX_BLOCK_MASK	0x00030000
#define S3C_HSMMC_MAX_BLOCK_SHIFT	16
#define S3C_HSMMC_CAN_DO_DMA		0x00400000
#define S3C_HSMMC_CAN_VDD_330		0x01000000
#define S3C_HSMMC_CAN_VDD_300		0x02000000
#define S3C_HSMMC_CAN_VDD_180		0x04000000

//HM_CONTROL2
#define S3C_HSMMC_CTRL2_HWINIT		0x00000001
#define S3C_HSMMC_CTRL2_CLKSEL_HCLK	0x00000010
#define S3C_HSMMC_CTRL2_CLKSEL_EPLL	0x00000020
#define S3C_HSMMC_CTRL2_CLKSEL_EXT	0x00000030
#define S3C_HSMMC_CTRL2_SDCLK_HOLD	0x00000100
#define S3C_HSMMC_CTRL2_CMD_CNFL_EN	0x40000000

//S3C_HSMMC_HOST_VERSION	0xFE
#define S3C_HSMMC_VENDOR_VER_MASK	0xFF00
#define S3C_HSMMC_VENDOR_VER_SHIFT	8
#define S3C_HSMMC_SPEC_VER_MASK		0x00FF
#define S3C_HSMMC_SPEC_VER_SHIFT	0

#ifndef CONFIG_S3C_HSMMC_MAX_HW_SEGS
#define CONFIG_S3C_HSMMC_MAX_HW_SEGS	32
#endif
